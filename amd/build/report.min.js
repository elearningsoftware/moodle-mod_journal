define("mod_journal/report",["exports","core/notification","core/str","core/toast","jquery"],(function(_exports,_notification,_str,_toast,_jquery){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * Javascript module for the report page
   *
   * @module      mod_journal/createtemplate
   * @copyright   2022 elearning & software srl
   * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_notification=_interopRequireDefault(_notification),_jquery=_interopRequireDefault(_jquery);_exports.init=()=>{(0,_jquery.default)(".saveindividualfeedback").on("click",(event=>{event.preventDefault();const editorupdated=new CustomEvent("form:editorUpdated");event.target.dispatchEvent(editorupdated);const element=(0,_jquery.default)(event.currentTarget),sesskey=M.cfg.sesskey,cmid=element.attr("data-cmid"),userid=element.attr("data-userid"),entryid=element.attr("data-entryid"),feedback=(0,_jquery.default)('[name="c'+entryid+'[text]"]').val(),grade=(0,_jquery.default)("#r"+entryid).val(),itemid=element.attr("data-itemid");_jquery.default.ajax(M.cfg.wwwroot+"/mod/journal/ajax/ajax.php",{data:{action:"saveindividualfeedback",sesskey:sesskey,cmid:cmid,userid:userid,entryid:entryid,feedback:feedback,grade:grade,itemid:itemid},dataType:"json",method:"post",success:response=>{"ok"===response.status?(0,_toast.add)(response.content):(0,_str.get_string)("saving_failed","feedback").then((string=>_notification.default.addNotification({type:"error",message:string+": "+response.content}))).catch()},error:error=>{(0,_str.get_string)("saving_failed","feedback").then((string=>_notification.default.addNotification({type:"error",message:string+": "+error}))).catch()}})}))}}));

//# sourceMappingURL=report.min.js.map